<?xml version="1.0" encoding="UTF-8"?>
<configuration>

  <configSections>
    <section 
      name="monorail" 
      type="Castle.MonoRail.Framework.Configuration.MonoRailSectionHandler, Castle.MonoRail.Framework" />
    <section
      name="activerecord"
      type="Castle.ActiveRecord.Framework.Config.ActiveRecordSectionHandler, Castle.ActiveRecord" />
  </configSections>

  <monorail>
    <controllers>
      <assembly>etBackend</assembly>
    </controllers>
    <viewEngines 
      viewPathRoot="Views">
      <add 
        type="Castle.MonoRail.Framework.Views.NVelocity.NVelocityViewEngine, Castle.MonoRail.Framework.Views.NVelocity" />
    </viewEngines>
  </monorail>

  <system.web>

    <compilation debug="true" />
    <httpHandlers>
      <add 
        verb="*" 
        path="*.rails" 
        type="Castle.MonoRail.Framework.MonoRailHttpHandlerFactory, Castle.MonoRail.Framework" />
      <!--block direct user access to template files-->
      <add 
        verb="*" path="*.vm" type="System.Web.HttpForbiddenHandler" />
      <add 
        verb="*" path="*.boo" type="System.Web.HttpForbiddenHandler" />
      <add
        verb="*" path="*.st" type="System.Web.HttpForbiddenHandler" />
    </httpHandlers>
    <httpModules>
      <add 
        name="monorail" 
        type="Castle.MonoRail.Framework.EngineContextModule, Castle.MonoRail.Framework" />
    </httpModules>
  </system.web>

  <activerecord isWeb="true">

    <config>
      <add
          key="connection.driver_class"
          value="NHibernate.Driver.SqlClientDriver" />
      <add
          key="dialect"
          value="NHibernate.Dialect.MsSql2005Dialect" />
      <add
          key="connection.provider"
          value="NHibernate.Connection.DriverConnectionProvider" />
      <add
          key="connection.connection_string"
          value="Data Source=.;Initial Catalog=encuestaTron;Integrated Security=SSPI" />
      <add
          key="proxyfactory.factory_class"
          value="NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle"  />
    </config>

  </activerecord>

</configuration>
